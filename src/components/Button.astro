---
import type { ButtonVariant, ButtonSize } from "../types/design-system";
import Icon from "./Icon.astro";

interface Props {
  variant?: ButtonVariant;
  size?: ButtonSize;
  href?: string;
  ariaLabel?: string;
  class?: string;
  showIcon?: boolean;
}

const {
  variant = "primary",
  size = "base",
  href,
  ariaLabel,
  class: className = "",
  showIcon = false,
} = Astro.props;

const baseClass = "button";
const sizeClass = size === "lg" ? "button-lg" : "";
const variantClass = `button-${variant}`;
const buttonClasses =
  `${baseClass} ${sizeClass} ${variantClass} group ${className}`.trim();
---

{
  href ? (
    <a href={href} class={buttonClasses} aria-label={ariaLabel}>
      <slot />
      {showIcon && (
        <Icon
          name="arrow-right"
          size="sm"
          class="ml-2 group-hover:translate-x-1 transition-transform duration-300"
        />
      )}
    </a>
  ) : (
    <button type="button" class={buttonClasses} aria-label={ariaLabel}>
      <slot />
      {showIcon && (
        <Icon
          name="arrow-right"
          size="sm"
          class="ml-2 group-hover:translate-x-1 transition-transform duration-300"
        />
      )}
    </button>
  )
}
