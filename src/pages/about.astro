---
import Layout from "../layouts/Layout.astro";
import aboutHeroImage from "../assets/about-main.jpg";
import PageHero from "../components/PageHero.astro";
import CallToActionSection from "../components/CallToActionSection.astro";
import jenniferImage from "../assets/jennifer-martinez-new.jpg";
import davidImage from "../assets/david-thompson.jpg";
import { Image } from "astro:assets";

import Icon from "../components/Icon.astro";
---

<Layout
  title="About Us - Our Story & Leadership | Viva Care"
  description="Learn about Viva Care' 15+ years of healthcare excellence. Meet our leadership team dedicated to providing compassionate, professional care since 2010."
>
  <PageHero
      title="ABOUT US"
      description="Since 2010 Viva Care was founded with a vision to provide exceptional healthcare services. Our mission is to deliver compassionate, professional care that meets the diverse needs of our community. <br /> Today, as a regional healthcare agency, we serve communities across the region with over 500 monthly visits and a dedicated team of 75+ healthcare professionals who bring expertise and compassion directly to patients' homes."
      image={aboutHeroImage}
    />

    <section
      class="section bg-gradient-to-b from-theme-primary-lighter/20 via-theme-primary-lighter/10 to-theme-surface"
    >
      <div class="container">
        <div class="text-center mb-16">
          <h2
            class="text-3xl lg:text-4xl font-bold text-theme-text-primary mb-4"
          >
            Meet Our Leadership
          </h2>
          <p class="text-lg text-theme-text-secondary max-w-3xl mx-auto">
            Dedicated professionals committed to delivering exceptional
            healthcare services
          </p>
        </div>
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 mx-auto">
          {/* Founder 1 */}
          <div class="w-full">
            <div
              class="bg-theme-surface rounded-2xl overflow-hidden transition-all duration-300"
            >
              <div class="relative h-80 lg:h-96 overflow-hidden">
                <Image
                  src={davidImage}
                  alt="David Thompson"
                  class="w-full h-full object-cover"
                  width={800}
                  height={600}
                />
                <div
                  class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"
                >
                </div>
              </div>
              <div class="p-8 lg:p-10">
                <h2
                  class="text-2xl lg:text-3xl font-bold mb-2 text-theme-text-primary"
                >
                  David Thompson
                </h2>
                <p class="text-base text-theme-primary font-semibold mb-6">
                  Co-Founder, Administrator, President and CEO
                </p>
                <div
                  id="davidText"
                  class="text-theme-text-secondary text-base lg:text-lg leading-relaxed overflow-hidden transition-all duration-300 max-h-[200px]"
                >
                  Founded in 2010, David Thompson established Viva Care
                  with a vision to revolutionize healthcare delivery. His
                  extensive background in healthcare administration and patient
                  care has been instrumental in building our organization's
                  foundation. With over 15 years of experience in healthcare
                  management, David brings a unique perspective on delivering
                  compassionate, professional care that truly makes a difference
                  in patients' lives.
                  <br /><br />
                  David's leadership philosophy centers on putting patients first
                  while maintaining the highest standards of care. His commitment
                  to innovation and continuous improvement has helped Viva Care
                  grow from a small local practice to a regional healthcare leader.
                  Under his guidance, we've expanded our services to meet the evolving
                  needs of our community while maintaining our core values of compassion,
                  integrity, and excellence.
                  <br /><br />
                  At the age of 35, David recognized the need for more personalized
                  healthcare services in our region. His vision was to create a healthcare
                  organization that could provide comprehensive care while maintaining
                  the personal touch that patients deserve. This vision has guided
                  our growth and continues to shape our future as we expand our services
                  and reach more patients in need of quality healthcare.
                </div>
                <button
                  class="toggle-btn mt-4 inline-flex items-center text-theme-primary hover:text-theme-primary-dark font-semibold transition-colors group"
                  data-target="davidText"
                  aria-expanded="false"
                >
                  <span>Read more</span>
                  <Icon
                    name="chevron-down"
                    size="sm"
                    class="ml-2 group-hover:translate-y-0.5 transition-transform duration-300"
                  />
                </button>
              </div>
            </div>
          </div>

          {/* Founder 2 */}
          <div class="w-full">
            <div
              class="bg-theme-surface rounded-2xl overflow-hidden transition-all duration-300"
            >
              <div class="relative h-80 lg:h-96 overflow-hidden">
                <Image
                  src={jenniferImage}
                  alt="Jennifer Martinez"
                  class="w-full h-full object-cover"
                  width={800}
                  height={600}
                />
                <div
                  class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"
                >
                </div>
              </div>
              <div class="p-8 lg:p-10">
                <h2
                  class="text-2xl lg:text-3xl font-bold mb-2 text-theme-text-primary"
                >
                  Jennifer Martinez
                </h2>
                <p class="text-base text-theme-primary font-semibold mb-6">
                  Co-Founder and Vice President of Viva Care
                </p>
                <div
                  id="jenniferText"
                  class="text-theme-text-secondary text-base lg:text-lg leading-relaxed overflow-hidden transition-all duration-300 max-h-[200px]"
                >
                  Jennifer Martinez is Co-founder and Vice President of MedCare
                  Solutions, bringing over 12 years of experience in healthcare
                  operations and patient advocacy. Her dedication to improving
                  patient outcomes and streamlining healthcare delivery has been
                  instrumental in shaping our organization's patient-centered
                  approach. Jennifer's expertise in healthcare systems and her
                  passion for compassionate care have helped establish MedCare
                  Solutions as a trusted healthcare provider in our region.
                  <br /><br />

                  Jennifer's vision for Viva Care was to create a
                  healthcare organization that could provide comprehensive
                  services while maintaining the personal connection that
                  patients need during their healthcare journey. Her commitment
                  to excellence and innovation has driven our organization's
                  growth and success. She believes that every patient deserves
                  access to quality healthcare delivered with dignity, respect,
                  and compassion.
                  <br /><br />
                  Jennifer's leadership philosophy emphasizes the importance of building
                  strong relationships with both patients and healthcare professionals.
                  She has been instrumental in developing our team of skilled healthcare
                  professionals and creating a supportive work environment that encourages
                  continuous learning and professional development. Her dedication
                  to our mission continues to inspire our team to deliver the highest
                  quality of care to every patient we serve.
                </div>
                <button
                  class="toggle-btn mt-4 inline-flex items-center text-theme-primary hover:text-theme-primary-dark font-semibold transition-colors group"
                  data-target="jenniferText"
                  aria-expanded="false"
                >
                  <span>Read more</span>
                  <Icon
                    name="chevron-down"
                    size="sm"
                    class="ml-2 group-hover:translate-y-0.5 transition-transform duration-300"
                  />
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <CallToActionSection
      heading="Partner With Our Experienced Team"
      subheading="Discover how our 15+ years of dedication to excellence can benefit your healthcare journey. We're here to provide compassionate, professional care when you need it most."
      primaryButtonText="Contact Our Team"
      primaryButtonLink="/contact"
      secondaryButtonText="View Our Services"
      secondaryButtonLink="/services"
    />
</Layout>

<script>
  function initToggleButtons() {
    document.querySelectorAll(".toggle-btn").forEach((button) => {
      const btn = button as HTMLButtonElement;
      
      // Prevent duplicate event listeners
      if (btn.dataset.bound === "true") return;
      btn.dataset.bound = "true";

      btn.addEventListener("click", () => {
        const targetId = btn.getAttribute("data-target");
        if (!targetId) return;
        const textContainer = document.getElementById(targetId);
        if (!textContainer) return;

        const buttonText = btn.querySelector("span");
        const buttonIcon = btn.querySelector("svg");
        const isExpanded = btn.getAttribute("aria-expanded") === "true";

        if (isExpanded) {
          textContainer.classList.remove("max-h-full");
          textContainer.classList.add("max-h-[200px]");
          if (buttonText) buttonText.textContent = "Read more";
          if (buttonIcon) buttonIcon.style.transform = "rotate(0deg)";
          btn.setAttribute("aria-expanded", "false");
        } else {
          textContainer.classList.remove("max-h-[200px]");
          textContainer.classList.add("max-h-full");
          if (buttonText) buttonText.textContent = "Read less";
          if (buttonIcon) buttonIcon.style.transform = "rotate(180deg)";
          btn.setAttribute("aria-expanded", "true");
        }
      });
    });
  }

  // Astro 5+ best practice: use astro:page-load for View Transitions
  document.addEventListener("astro:page-load", initToggleButtons);
</script>
