---
import type { HeadingLevel } from "../types/design-system";

interface Props {
  level?: HeadingLevel;
  class?: string;
  size?: "default" | "section" | "page";
  align?: "left" | "center" | "right";
}

const {
  level = "h2",
  class: className = "",
  size = "default",
  align = "left",
} = Astro.props;

// Convert number to heading tag if needed
const headingTag = typeof level === "number" ? `h${level}` : level;

// Map size variants to consistent Tailwind classes
const sizeMappings = {
  h1: {
    page: "text-4xl lg:text-5xl",
    section: "text-3xl lg:text-4xl",
    default: "text-3xl lg:text-4xl",
  },
  h2: {
    page: "text-3xl lg:text-4xl",
    section: "text-2xl lg:text-3xl",
    default: "text-2xl lg:text-3xl",
  },
  h3: {
    page: "text-2xl lg:text-3xl",
    section: "text-xl lg:text-2xl",
    default: "text-xl lg:text-2xl",
  },
  h4: {
    page: "text-xl lg:text-2xl",
    section: "text-lg lg:text-xl",
    default: "text-lg lg:text-xl",
  },
  h5: {
    page: "text-lg lg:text-xl",
    section: "text-base lg:text-lg",
    default: "text-base lg:text-lg",
  },
  h6: {
    page: "text-base lg:text-lg",
    section: "text-sm lg:text-base",
    default: "text-sm lg:text-base",
  },
};

const alignClasses = {
  left: "text-left",
  center: "text-center",
  right: "text-right",
};

const sizeClass = sizeMappings[headingTag as keyof typeof sizeMappings][size];
const alignClass = alignClasses[align];
const baseClasses = "font-bold text-theme-text-primary leading-tight";
const allClasses =
  `${baseClasses} ${sizeClass} ${alignClass} ${className}`.trim();
---

{
  headingTag === "h1" && (
    <h1 class={allClasses}>
      <slot />
    </h1>
  )
}
{
  headingTag === "h2" && (
    <h2 class={allClasses}>
      <slot />
    </h2>
  )
}
{
  headingTag === "h3" && (
    <h3 class={allClasses}>
      <slot />
    </h3>
  )
}
{
  headingTag === "h4" && (
    <h4 class={allClasses}>
      <slot />
    </h4>
  )
}
{
  headingTag === "h5" && (
    <h5 class={allClasses}>
      <slot />
    </h5>
  )
}
{
  headingTag === "h6" && (
    <h6 class={allClasses}>
      <slot />
    </h6>
  )
}
