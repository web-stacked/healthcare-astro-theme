---
interface Item {
  id: string;
  question: string;
  answer: string;
}

interface Props {
  items: Item[];
}

const { items } = Astro.props as Props;
---

<div class="space-y-4">
  {
    items.map((item) => (
      <details
        id={item.id}
        class="group border-b border-theme-border"
      >
        <summary class="flex w-full items-center justify-between py-4 cursor-pointer list-none">
          <span class="text-lg font-medium text-theme-text-primary group-hover:text-theme-primary transition-colors pr-8">
            {item.question}
          </span>
          <span class="flex-shrink-0 w-8 h-8 rounded-full bg-theme-surface-muted flex items-center justify-center transition-colors group-hover:bg-theme-primary-lighter/20">
            <svg
              class="w-4 h-4 text-theme-primary transition-transform duration-200 group-open:rotate-45"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
            </svg>
          </span>
        </summary>
        <div class="pt-0 pb-4 text-theme-text-secondary text-sm lg:text-base leading-relaxed max-w-none">
          <div set:html={item.answer} />
        </div>
      </details>
    ))
  }
</div>

<style>
  details summary::-webkit-details-marker {
    display: none;
  }

  div :global(p) {
    margin: 0 0 0.75rem;
  }

  div :global(p:last-child) {
    margin-bottom: 0;
  }

  div :global(ul) {
    list-style-position: inside;
    padding: 0;
    margin: 0.5rem 0;
  }

  div :global(li) {
    margin: 0.25rem 0;
  }

  div :global(li strong) {
    color: var(--color-theme-text-primary);
  }
</style>
